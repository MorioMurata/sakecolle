<div>
  <%= render 'layouts/header', user: @user, collection: @collection %>
  <%= render 'layouts/introduction', user: @user %>
</div>
<div class="container">
  <div class="row">
    <div class="col-lg-2">
      <%= render 'layouts/navbar' %>
    </div>
    <div class="col-lg-10">
      <div>
        <div class="tab-list list-unstyled">
          <span class="tab tab-left tab-active">
            collection
          </span>
          <span class="tab tab-right">
            past collaction
          </span>
          <span class="alert">
            <% if @user.email != "guest@example.com" %>
              <!--ユーザー指定の在庫上限の８割を突破したらアラート。over_eighty_percent_of_stock_capacityメソッドについてはapplication_helper.rb内に定義。-->
              <% if @collection.count >= 1 && @user == current_user %>
                <%= over_eighty_percent_of_stock_capacity(@collections, @user) %>
              <% end %>
            <% end %>
          </span>
        </div>
        <div class="tabbox-contents">
          <div class="tabbox box-show" id ="pagenate_collection">
            <%= render "posted_collection", collections: @collections %>
            <div class="pagenation center-block">
              <%= paginate @collections, remote: true %>
            </div>
          </div>
          <div class="tabbox" id ="pagenate_past_collection">
            <%= render "posted_collection", collections: @past_collections %>
            <div class="pagenation center-block">
              <%= paginate @past_collections,:param_name =>'post_page', remote: true %>
            </div>
          </div>
        </div>
      </div>
      <% if @collections.empty? %>
        <p>まだ投稿はありません</p>
      <% end %>
    </div>
  </div>
</div>